{"version":3,"sources":["src/index.js"],"names":["form","document","querySelector","input","taskList","clearButton","tasksArr","localStorage","getItem","JSON","parse","setItem","stringify","data","setValue","text","push","createTask","length","index","newTask","createElement","classList","add","appendChild","newTaskText","textContent","deleteIcon","setAttribute","del","handleSubmit","event","preventDefault","value","forEach","task","i","clearAll","clear","firstChild","removeChild","deleteTask","newTaskArr","filter","addEventListener","target","getAttribute","currentTask","closest","contains"],"mappings":";;;;;AAiFA,aAjFA,QAAA,gBACA,IAAA,EAAA,EAAA,QAAA,sBAgFA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA9EA,IAAMA,EAAOC,SAASC,cAAc,eAC9BC,EAAQH,EAAKE,cAAc,gBAC3BE,EAAWH,SAASC,cAAc,gBAClCG,EAAcJ,SAASC,cAAc,gBAGvCI,EAAWC,aAAaC,QAAQ,SAChCC,KAAKC,MAAMH,aAAaC,QAAQ,UAChC,GAEFD,aAAaI,QAAQ,QAASF,KAAKG,UAAUN,IAC7C,IAAMO,EAAOJ,KAAKC,MAAMH,aAAaC,QAAQ,UAEzCM,EAAW,SAACC,GAClBT,EAASU,KAAKD,GACdR,aAAaI,QAAQ,QAASF,KAAKG,UAAUN,IAC7CW,EAAWF,EAAMT,EAASY,OAAQ,IAG5BD,EAAa,SAACF,EAAMI,GACpBC,IAAAA,EAAUnB,SAASoB,cAAc,MACvCD,EAAQE,UAAUC,IAAI,cACtBnB,EAASoB,YAAYJ,GAEfK,IAAAA,EAAcxB,SAASoB,cAAc,KAC3CI,EAAYH,UAAUC,IAAI,mBAC1BE,EAAYC,YAAcX,EAC1BK,EAAQI,YAAYC,GAEdE,IAAAA,EAAa1B,SAASoB,cAAc,OAC1CM,EAAWL,UAAUC,IAAI,gBACzBI,EAAWC,aAAa,MAAOC,EAA/B,SACAF,EAAWC,aAAa,KAAMT,GAC9BC,EAAQI,YAAYG,IAGdG,EAAe,SAACC,EAAOhB,GAC7BgB,EAAMC,iBACNlB,EAASC,GACTZ,EAAM8B,MAAQ,IAIdpB,EAAKqB,QAAQ,SAACC,EAAMC,GACpBnB,EAAWkB,EAAMC,KAGjB,IAAMC,EAAW,WAITjC,IAHND,EAAM8B,MAAQ,GACd1B,aAAa+B,QACbhC,EAAW,GACLF,EAASmC,YACbnC,EAASoC,YAAYpC,EAASmC,aAK5BE,EAAa,SAACN,EAAMhB,GACxBf,EAASoC,YAAYL,GAEfO,IAAAA,EAAapC,EAASqC,OAAO,SAACR,EAAMC,GAAMA,OAAAA,GAAKjB,IACrDZ,aAAaI,QAAQ,QAASF,KAAKG,UAAU8B,KAI/C1C,EAAK4C,iBAAiB,SAAU,SAACb,GAChCD,EAAaC,EAAO5B,EAAM8B,SAI3B7B,EAASwC,iBAAiB,QAAS,SAACb,GAC9BZ,IAAAA,EAAQY,EAAMc,OAAOC,aAAa,MAChCC,EAAchB,EAAMc,OAAOG,QAAQ,eACtCjB,EAAMc,OAAOvB,UAAU2B,SAAS,iBACjCR,EAAWM,EAAa5B,KAI5Bd,EAAYuC,iBAAiB,QAASP","file":"src.443dd7e8.js","sourceRoot":"..","sourcesContent":["import './index.scss';\nimport del from \"./images/feet.png\";\n\nconst form = document.querySelector('.todo__form');\nconst input = form.querySelector('.todo__input');\nconst taskList = document.querySelector('.todo__tasks');\nconst clearButton = document.querySelector('.todo__clear');\n\n\nlet tasksArr = localStorage.getItem(\"tasks\")\n  ? JSON.parse(localStorage.getItem(\"tasks\"))\n  : [];\n\n  localStorage.setItem(\"tasks\", JSON.stringify(tasksArr));\n  const data = JSON.parse(localStorage.getItem(\"tasks\"));\n\nconst setValue = (text) => {\ntasksArr.push(text);\nlocalStorage.setItem(\"tasks\", JSON.stringify(tasksArr));\ncreateTask(text, tasksArr.length -1);\n}\n\nconst createTask = (text, index) => {\nconst newTask = document.createElement('li');\nnewTask.classList.add('todo__task');\ntaskList.appendChild(newTask);\n\nconst newTaskText = document.createElement('p');\nnewTaskText.classList.add('todo__task-text');\nnewTaskText.textContent = text;\nnewTask.appendChild(newTaskText);\n\nconst deleteIcon = document.createElement('img');\ndeleteIcon.classList.add(\"todo__delete\");\ndeleteIcon.setAttribute('src', del);\ndeleteIcon.setAttribute('id', index);\nnewTask.appendChild(deleteIcon);\n}\n\nconst handleSubmit = (event, text) => {\nevent.preventDefault();\nsetValue(text);\ninput.value = '';\n}\n\n\ndata.forEach((task, i) => {\ncreateTask(task, i);\n})\n\nconst clearAll = () => {\n  input.value = '';\n  localStorage.clear();\n  tasksArr = [];\n  while(taskList.firstChild){\n    taskList.removeChild(taskList.firstChild);\n  }\n\n}\n\nconst deleteTask = (task, index) => {\n  taskList.removeChild(task);\n\n  const newTaskArr = tasksArr.filter((task, i) => i != index);\n  localStorage.setItem(\"tasks\", JSON.stringify(newTaskArr));\n\n}\n\nform.addEventListener('submit', (event) => {\n handleSubmit(event, input.value);\n})\n\n\ntaskList.addEventListener('click', (event) =>{\n  let index = event.target.getAttribute(\"id\");\n  const currentTask = event.target.closest('.todo__task');\n  if(event.target.classList.contains('todo__delete')){\n    deleteTask(currentTask, index);\n  }\n} );\n\nclearButton.addEventListener('click', clearAll);"]}